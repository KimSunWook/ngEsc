(function(a){a.module("ngEsc",["ng"]).directive("ngEsc",function(b,c){return{link:function(g,f,e){var h=function(){var i;if(g.$eval(e.ngEscModel)){i=g.$eval(e.ngEscModel)}else{if(e.ngEscModel){g[e.ngEscModel]={};i=g[e.ngEscModel]}else{i=g}}return i};var d;a.element(f).bind("keydown keypress",function(j){var i=h();if(j.which===27){if(!i.$esc){if(d){c.cancel(d)}g.$apply(function(){i.$esc=true;i.$esced=true;g.$eval(e.ngEsc)});var k=Number(e.ngEscDuration);if(!(k>=0)){k=100}d=c(function(){i.$esc=false},k)}j.preventDefault()}})},scope:false,restrict:"EA"}})})(angular);